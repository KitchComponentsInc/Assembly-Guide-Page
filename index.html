<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  .assembly-guides {
    max-width: 1200px;
    font-size: 16px;
    min-width: 240px;
    margin: 0 auto;
  }

  h2,
  h3,
  label,
  .assembly-guide-header {
    font-family: var(--TYPE-STACK-BUTTON);
    font-style: var(--FONT-STYLE-BODY);
    font-weight: var(--FONT-WEIGHT-BODY);
    letter-spacing: var(--FONT-BODY-LETTER-SPACING);
    text-transform: uppercase;
    line-height: var(--leading-normal);
    cursor: default;
  }

  h2,
  .search-wrapper {
    align-self: center;
  }

  .assembly-guides h4 {
    font-family: var(--TYPE-STACK-BUTTON);
    font-style: var(--FONT-STYLE-ACCENT);
    font-weight: var(--FONT-WEIGHT-ACCENT-BOLD);
    text-transform: uppercase;
    letter-spacing: var(--FONT-ACCENT-LETTER-SPACING);
    font-size: calc(var(--font-4) * var(--FONT-ADJUST-BODY));
    line-height: var(--leading-normal);
    margin: 0;
  }

  .assembly-guides h3 {
    font-size: var(--font-6);
  }

  .assembly-guides-wrapper {
    display: flex;
    flex-direction: column;
    gap: 32px;
  }

  .search-wrapper {
    min-width: 247px;
    display: flex;
    gap: 0.5rem;
    align-items: center;
    padding-bottom: 4px;
    border-bottom: 1px solid #777;
  }

  .search-wrapper label {
    height: 28px;
    width: 28px;
  }

  .search-wrapper label img {
    width: 100%;
  }

  .assembly-guides input,
  .assembly-guides input:focus {
    appearance: none;
    padding-inline: 0px;
    font-size: 1rem;
    border: 0px white;
    outline: none;
  }

  /* Clear search is hidden */
  .assembly-guides input[type="search"]::-webkit-search-cancel-button {
    -webkit-appearance: none;
  }

  .assembly-guides input::-ms-clear {
    display: none;
  }

  .assembly-guide-cards {
    display: grid;
    grid-template-columns: repeat(1, 1fr);
    margin-top: 8px;
    transition: all 0.33s;
  }

  .assembly-guide-cards .card:nth-child(2n) {
    background-color: #f7f7f7;
    transition: all 0.33s;
  }

  .assembly-guide-cards .card:nth-child(2n):hover {
    background-color: #e8e8e8;
  }

  .assembly-guide-cards .card .download-icon {
    transition: all 0.33s;
  }

  .assembly-guide-cards .card:nth-child(2n) .download-icon {
    background-color: white;
  }

  .assembly-guide-cards .card:nth-child(2n):hover .download-icon {
    background-color: #b1e4e3;
    width: 40px;
  }

  .card {
    background-color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    min-height: 40px;
    height: fit-content;
    box-sizing: border-box;
    padding: 0px 16px;
    border-radius: 20px;
  }

  .card:hover {
    transition: all 0.33s;
    background-color: #e8e8e8;
  }

  .card .assembly-guide-header {
    display: flex;
    align-items: center;
  }

  .card .file-name-wrapper {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .card .file-name-wrapper img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    object-fit: cover;
  }

  .card > .assembly-guide-body {
    font-size: var(--font-4);
    color: black;
  }

  .card > .assembly-guide-body a:-webkit-any-link {
    color: black;
  }

  .card .download-icon {
    background-color: #e4e4e4;
    display: flex;
    height: 32px;
    width: 32px;
    justify-content: center;
    align-items: center;
    border-radius: 16px;
  }

  .card:hover .download-icon {
    background-color: #b1e4e3;
    width: 40px;
  }

  .hide {
    display: none;
  }

  .flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>
<section class="assembly-guides">
  <div class="assembly-guides-wrapper">
    <h2>Assembly Guides</h2>
    <div class="search-wrapper">
      <label for="search">
        <img
          src="https://cdn.shopify.com/s/files/1/0639/8686/0263/files/search.png?v=1710947889"
        />
      </label>
      <input
        placeholder="Search Assembly Guides"
        data-search=""
        id="search"
        type="search"
      />
    </div>
    <div class="category">
      <h3 id="standard-assembly-guides">Standard Assembly Guides</h3>
      <div
        data-standard-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="standard-installation-guides">Standard Installation Guides</h3>
      <div
        data-standard-installation-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="10-in-high">10" Height Configurations</h3>
      <div
        data-10-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="15-in-high">15" Height Configurations</h3>
      <div
        data-15-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <!-- <div class="category">
      <h3 id="18-in-high">18" Height Configurations</h3>
      <div
        data-18-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div> -->
    <div class="category">
      <h3 id="20-in-high">20" Height Configurations</h3>
      <div
        data-20-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="25-in-high">25" Height Configurations</h3>
      <div
        data-25-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="30-in-high">30" Height Configurations</h3>
      <div
        data-30-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="35-in-high">35" Height Configurations</h3>
      <div
        data-35-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="40-in-high">40" Height Configurations</h3>
      <div
        data-40-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="50-in-high">50" Height Configurations</h3>
      <div
        data-50-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <div class="category">
      <h3 id="60-in-high">60" Height Configurations</h3>
      <div
        data-60-high-assembly-guide-cards-container=""
        class="assembly-guide-cards"
      ></div>
    </div>
    <template data-assembly-guide-template="">
      <div class="card">
        <div
          data-sanitized-data-assembly-guide-header=""
          data-assembly-guide-header=""
          class="assembly-guide-header"
        ></div>
        <div
          data-sanitized-data-assembly-guide-body=""
          data-assembly-guide-body=""
          class="assembly-guide-body"
        ></div>
      </div>
    </template>
  </div>
</section>
<!-- <script src="https://cdn.shopify.com/s/files/1/0639/8686/0263/files/assembly-guide-data_1cd80614-78ac-4d1b-bc34-230f39315aa4.js?v=1719525712"></script> -->
<script src="assembly-guide-data.js"></script>
<script defer="">
  const assemblyGuideCardTemplate = document.querySelector(
    "[data-assembly-guide-template]"
  );
  const standardAssemblyGuideCardContainer = document.querySelector(
    "[data-standard-assembly-guide-cards-container]"
  );
  const standardInstallationGuideCardContainer = document.querySelector(
    "[data-standard-installation-guide-cards-container]"
  );
  const assemblyGuideCardContainer10High = document.querySelector(
    "[data-10-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer15High = document.querySelector(
    "[data-15-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer18High = document.querySelector(
    "[data-18-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer20High = document.querySelector(
    "[data-20-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer25High = document.querySelector(
    "[data-25-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer30High = document.querySelector(
    "[data-30-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer35High = document.querySelector(
    "[data-35-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer40High = document.querySelector(
    "[data-40-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer50High = document.querySelector(
    "[data-50-high-assembly-guide-cards-container]"
  );
  const assemblyGuideCardContainer60High = document.querySelector(
    "[data-60-high-assembly-guide-cards-container]"
  );
  const searchInput = document.querySelector("[data-search]");

  function checkCategoryVisibility(categoryContainer) {
    const cards = categoryContainer.querySelectorAll(".card:not(.hide)");
    const categoryDiv = categoryContainer.parentElement;

    if (cards.length === 0) {
      categoryDiv.classList.add("hide");
    } else {
      categoryDiv.classList.remove("hide");
    }
  }

  searchInput.addEventListener("input", (e) => {
    const value = e.target.value.toLowerCase();
    assemblyGuides.forEach((guide) => {
      const isVisible = guide.name.toLowerCase().includes(value);
      if (guide.card) {
        // Check if guide.card is defined
        guide.card.classList.toggle("hide", !isVisible);
      }
    });

    // Check visibility for each category
    checkCategoryVisibility(standardAssemblyGuideCardContainer);
    checkCategoryVisibility(assemblyGuideCardContainer10High);
    checkCategoryVisibility(assemblyGuideCardContainer15High);
    checkCategoryVisibility(assemblyGuideCardContainer18High);
    checkCategoryVisibility(assemblyGuideCardContainer20High);
    checkCategoryVisibility(assemblyGuideCardContainer25High);
    checkCategoryVisibility(assemblyGuideCardContainer30High);
    checkCategoryVisibility(assemblyGuideCardContainer35High);
    checkCategoryVisibility(assemblyGuideCardContainer40High);
    checkCategoryVisibility(assemblyGuideCardContainer50High);
    checkCategoryVisibility(assemblyGuideCardContainer60High);
    checkCategoryVisibility(standardInstallationGuideCardContainer);
  });

  assemblyGuides.forEach((guide) => {
    var fileNameWrapper = document.createElement("div");
    fileNameWrapper.className = "file-name-wrapper";
    var fileName = document.createElement("h4");
    var imageRef = document.createElement("img");

    var pdfFile = document.createElement("a");
    var downloadIcon = document.createElement("img");

    const card = assemblyGuideCardTemplate.content.cloneNode(true).children[0];
    const enlargeImageWrapper = card.querySelector(
      "[data-enlarge-image-wrapper]"
    );
    const assemblyGuideHeader = card.querySelector(
      "[data-assembly-guide-header]"
    );
    const assemblyGuideBody = card.querySelector("[data-assembly-guide-body]");

    imageRef.src = guide.imageRef;
    imageRef.setAttribute("alt", `${guide.name} ${guide.alt}`);
    imageRef.setAttribute(
      "onclick",
      `window.open('${guide.imageRef}', '_blank')`
    );
    imageRef.setAttribute("title", `Preview ${guide.name} in new tab`);
    fileName.textContent = guide.name;
    assemblyGuideHeader.appendChild(fileNameWrapper);
    fileNameWrapper.appendChild(imageRef);
    fileNameWrapper.appendChild(fileName);

    pdfFile.setAttribute("href", `${guide.fileUrl}`);
    pdfFile.setAttribute("target", "_blank");
    pdfFile.setAttribute("class", "download-icon");

    downloadIcon.src =
      "https://cdn.shopify.com/s/files/1/0639/8686/0263/files/Download-Icon.png?v=1712692326";

    pdfFile.appendChild(downloadIcon);
    assemblyGuideBody.appendChild(pdfFile);

    if (guide.category === "standard") {
      standardAssemblyGuideCardContainer.append(card);
    } else if (guide.category === "10-high") {
      assemblyGuideCardContainer10High.append(card);
    } else if (guide.category === "15-high") {
      assemblyGuideCardContainer15High.append(card);
    } else if (guide.category === "18-high") {
      assemblyGuideCardContainer18High.append(card);
    } else if (guide.category === "20-high") {
      assemblyGuideCardContainer20High.append(card);
    } else if (guide.category === "25-high") {
      assemblyGuideCardContainer25High.append(card);
    } else if (guide.category === "30-high") {
      assemblyGuideCardContainer30High.append(card);
    } else if (guide.category === "35-high") {
      assemblyGuideCardContainer35High.append(card);
    } else if (guide.category === "40-high") {
      assemblyGuideCardContainer40High.append(card);
    } else if (guide.category === "50-high") {
      assemblyGuideCardContainer50High.append(card);
    } else if (guide.category === "60-high") {
      assemblyGuideCardContainer60High.append(card);
    } else if (guide.category === "installation") {
      standardInstallationGuideCardContainer.append(card);
    }

    guide.card = card;
  });
</script>
